# FlyControl
fly control code of quadrotor

# 2021.2.28
添加了实验模式任务，还在测试

#2021.3.3
修改了实验模式任务，并成功采集数据。实验模式使用方法：
    按3下KEY1进入实验模式，解锁飞控，正常起飞，按KEY2开始实验，1s后结束实验，控制飞机降落，锁飞机，左边摇杆往右下方打飞控会向串口助手发送数据

#2021.3.10
(1)辨识出了PWM波为输入angle0为输出的线性系统传递函数，此函数描述了系统大致性质，但是不足以用于此系统的仿真，使用simulink给出了一组PID参数，仿真效果很好，但现实中四旋翼产生震荡并发散，这可能是因为四旋翼是非线性的。
(2)改为了自己推导的姿态解算算法，加入了地磁计解算算法，算的yaw角度范围为0到360度。所以在360度和0度左右会有间断点，此问题还未解决
