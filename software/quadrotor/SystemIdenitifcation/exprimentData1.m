
input = [0;]
for i = 1:198
input = [input;10]
end
%输入为pwm[0]+10,pwm[1]-10;pwm[0]、pwm[1]为实验开始前一时刻的pwm值
%a为采集的angle[0]数据，实验中每5ms采集一次，共采集了200个数据，用时1s
a = [0.010071 0.015521 0.025890 0.042853 0.050933 0.063746 0.084283 0.093940 0.109179 0.127677 0.137764 0.149738 0.160911 0.166820 0.170531 0.169695 0.164976 0.158369 0.141880 0.125309 0.106777 0.076423 0.047265 0.013687 -0.030538 -0.073763 -0.124143 -0.184014 -0.242243 -0.310262 -0.387342 -0.462140 -0.548800 -0.641017 -0.734701 -0.839262 -0.946144 -1.057995 -1.182068 -1.304489 -1.435935 -1.580952 -1.722356 -1.871920 -2.033377 -2.194356 -2.361769 -2.536542 -2.716374 -2.905627 -3.097093 -3.294232 -3.500731 -3.713057 -3.928920 -4.149818 -4.377418 -4.615552 -4.850552 -5.094638 -5.349017 -5.602034 -5.867022 -6.132294 -6.405279 -6.691342 -6.970699 -7.257619 -7.560743 -7.856668 -8.160438 -8.473555 -8.794040 -9.115697 -9.445997 -9.781925 -10.116983 -10.467656 -10.817291 -11.165319 -11.532879 -11.893469 -12.258753 -12.644056 -13.013637 -13.393381 -13.797630 -14.179231 -14.577015 -14.986461 -15.384890 -15.804003 -16.222990 -16.640270 -17.066652 -17.500788 -17.938871 -18.371805 -18.814262 -19.269333 -19.714163 -20.163937 -20.626650 -21.087168 -21.550837 -22.013725 -22.485697 -22.960596 -23.428654 -23.910948 -24.387596 -24.866831 -25.357031 -25.833523 -26.329779 -26.821573 -27.313250 -27.813078 -28.309387 -28.824657 -29.320633 -29.819174 -30.354027 -30.848759 -31.347288 -31.886370 -32.388844 -32.899086 -33.444298 -33.947330 -34.469467 -35.011173 -35.518120 -36.048153 -36.580791 -37.091595 -37.624508 -38.157780 -38.676674 -39.202827 -39.734097 -40.252892 -40.780380 -41.313744 -41.832554 -42.365726 -42.903519 -43.425041 -43.965294 -44.508987 -45.035763 -45.561131 -46.098137 -46.634018 -47.147579 -47.670883 -48.197948 -48.715393 -49.223488 -49.736774 -50.252544 -50.753944 -51.255383 -51.764275 -52.255074 -52.758060 -53.257324 -53.725605 -54.229641 -54.714874 -55.180576 -55.673283 -56.144798 -56.615292 -57.087269 -57.544033 -58.010952 -58.464607 -58.908344 -59.363308 -59.800285 -60.233620 -60.673832 -61.097660 -61.527866 -61.950787 -62.363869 -62.778244 -63.186794 -63.580540 -63.989456 -64.379585 -64.755081 -65.149605 -65.523537 -65.900238 -66.259338 -66.639748 -66.987541 -67.344223]'
b = diff(a)/0.005;
% c = diff(b);
 plot(-b);
%  hold on
%  plot(-b)
%hold on
%输入为pwm[0]-10,pwm[1]+10;pwm[0]、pwm[1]为实验开始前一时刻的pwm值
%a为采集的angle[0]数据，实验中每5ms采集一次，共采集了200个数据，用时1s
% a2 = [2.099758 1.974103 2.018512 1.979463 1.921140 1.842543 1.779260 1.773630 1.839096 1.788860 1.853552 1.961952 1.924837 2.105417 2.341111 2.332832 2.321892 2.590061 2.761828 3.366876 3.669108 3.913352 4.239356 4.413292 4.766822 4.975648 5.147836 5.704520 6.011676 6.323225 6.558330 7.039605 7.540098 7.974164 8.340804 8.724993 10.040331 10.251840 10.496670 11.121198 11.843480 12.158886 12.591702 15.087703 15.608732 15.978442 16.408243 17.210571 17.912737 19.229019 20.163786 21.344213 21.747391 22.064152 22.900509 24.568365 25.076769 25.879923 26.321941 26.633617 27.528107 28.026321 30.327024 30.869446 31.262882 32.641541 33.004925 33.616360 34.239536 34.899014 35.435337 35.869946 36.708988 37.320679 37.737045 38.493782 39.276726 39.550510 40.116688 41.568020 42.377907 43.360264 44.389732 44.864017 45.802662 46.177769 47.428421 47.558735 48.265915 49.004272 50.067333 51.255650 51.663021 52.429256 52.544697 52.781113 53.500076 53.712963 54.791397 54.993233 55.784084 56.557182 57.171425 57.596043 58.310955 58.502129 59.075478 59.267914 59.510563 60.038647 60.128231 60.313976 60.876350 61.141956 61.065720 61.212215 61.638157 62.077080 62.212357 62.357803 62.516785 62.881805 63.285999 63.771271 63.784264 63.978451 64.346657 64.523361 64.683197 64.940773 64.997276 65.270271 65.473709 65.419281 65.736221 65.989052 66.054703 66.244865 66.570183 66.972580 67.199806 67.268341 67.600632 67.813049 67.841782 68.058807 68.109604 68.307014 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000]
% plot(-a2)
% %输入为pwm[0]-3,pwm[1]+3;pwm[0]、pwm[1]为实验开始前一时刻的pwm值
% %a为采集的angle[0]数据，实验中每5ms采集一次，共采集了200个数据，用时1s
% a3 = [-0.369220 -0.358936 -0.348805 -0.343998 -0.326713 -0.316164 -0.308882 -0.295530 -0.282124 -0.272042 -0.260983 -0.241346 -0.226689 -0.214397 -0.190034 -0.170697 -0.153208 -0.129738 -0.105194 -0.082304 -0.058309 -0.025101 -0.000117 0.026258 0.064841 0.093957 0.125426 0.169047 0.204314 0.241327 0.288904 0.328428 0.370534 0.418671 0.461729 0.508188 0.558569 0.607067 0.658788 0.712074 0.768059 0.824163 0.880506 0.946554 1.006934 1.066661 1.137636 1.202937 1.267437 1.339625 1.411519 1.485140 1.555328 1.633607 1.713460 1.784516 1.866398 1.947592 2.023140 2.107186 2.185731 2.266032 2.351141 2.425003 2.507144 2.595734 2.670697 2.754294 2.844159 2.925192 3.009183 3.096632 3.186615 3.270692 3.354162 3.451352 3.538303 3.619343 3.721265 3.811090 3.890866 3.992420 4.082365 4.166438 4.267358 4.357749 4.446254 4.545489 4.633189 4.722832 4.822757 4.909225 4.998356 5.100623 5.191789 5.278844 5.380073 5.477188 5.560775 5.658540 5.762673 5.847737 5.943651 6.047879 6.136693 6.228584 6.330074 6.422441 6.514688 6.615112 6.707360 6.803014 6.900373 6.988449 7.084883 7.180385 7.267464 7.361317 7.458856 7.548534 7.637830 7.732448 7.825965 7.910346 8.000318 8.096643 8.178322 8.264309 8.357775 8.439853 8.520061 8.609188 8.692332 8.769419 8.853758 8.935168 9.012187 9.092266 9.168006 9.242846 9.319590 9.390144 9.461409 9.537314 9.606240 9.672009 9.747643 9.815261 9.877007 9.949312 10.015500 10.076584 10.142363 10.206239 10.266011 10.322493 10.382312 10.444619 10.491569 10.547882 10.610984 10.651069 10.701514 10.759329 10.798410 10.845593 10.894289 10.932981 10.976846 11.013808 11.050442 11.092363 11.122237 11.155963 11.191325 11.216448 11.246327 11.272864 11.297215 11.322277 11.336687 11.360659 11.381865 11.384993 11.407028 17.804323 17.914881 18.055161 18.161121 18.266283 18.402403 18.507404 18.607458 18.736086 18.841848 18.943424 19.062492 19.168734 19.273338 19.383986]
% plot(a3)

% clear
% nu = [0.08233 0.6];
% denu = [1 0.9 19.63];
% wtf = tf(nu,denu);      %角速度传递函数
% sys1 = tf(1,[1 0]);     %积分
% thetatf = wtf*sys1;     %角度系统函数
% step(thetatf,100)
% ylabel('angle');